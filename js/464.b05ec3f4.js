"use strict";(self["webpackChunkthe_simpsons"]=self["webpackChunkthe_simpsons"]||[]).push([[464],{7464:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var a=n(6768);const s={ref:"sentinel",class:"sentinel"};function r(e,t,n,r,o,i){const c=(0,a.g2)("LocationCardComponent");return(0,a.uX)(),(0,a.CE)("main",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.data,(e,t)=>((0,a.uX)(),(0,a.Wv)(c,{name:e.name,image:e.image_path,id:e.id,town:e.town,use:e.use,key:t},null,8,["name","image","id","town","use"]))),128)),(0,a.Lk)("div",s,null,512)])}var o=n(4232);const i={class:"card"},c={class:"container"},u=["src","alt"],l={class:"filter"},d={key:0},p={key:1};function m(e,t,n,s,r,m){return(0,a.uX)(),(0,a.CE)("article",i,[(0,a.Lk)("section",c,[(0,a.Lk)("img",{src:m.complete_portrait_path,alt:`${n.name} photo`},null,8,u),(0,a.Lk)("div",l,[n.town&&""!=n.town?((0,a.uX)(),(0,a.CE)("small",d,(0,o.v_)(n.town),1)):(0,a.Q3)("",!0),(0,a.Lk)("h3",null,(0,o.v_)(n.name),1),n.use&&""!=n.use?((0,a.uX)(),(0,a.CE)("small",p,(0,o.v_)(n.use),1)):(0,a.Q3)("",!0)])])])}var h=n(1561),g={name:"CardComponent",props:{id:{type:Number,required:!0},name:{type:String,required:!0},town:{type:String,required:!0},image:{type:String,required:!0},use:{type:String,required:!0}},computed:{complete_portrait_path(){return`${h.l1}${this.image}`}}},v=n(1241);const w=(0,v.A)(g,[["render",m],["__scopeId","data-v-55b4c0da"]]);var _=w,C={name:"LocationView",components:{LocationCardComponent:_},data(){return{data:[],page:1,observr:null}},async mounted(){this.observer=new IntersectionObserver(async e=>{e[0].isIntersecting&&await this.getLocations(`/locations?page=${this.page}`)},{rootMargin:"32px"}),await this.getLocations("/locations"),this.observer.observe(this.$refs.sentinel)},beforeUnmount(){null!=this.observer&&this.observer.disconnect()},methods:{async getLocations(e){const t=await(0,h.Jt)(e);200==t.status&&(this.data=this.data.concat(t.data.results),this.page++)}}};const b=(0,v.A)(C,[["render",r],["__scopeId","data-v-add1f58e"]]);var f=b}}]);
//# sourceMappingURL=464.b05ec3f4.js.map